flowchart LR
    subgraph Client
      U[User / CLI / CI]
    end

    U -->|HTTP POST /workflows| ORCH[(Orchestrator Service\nPort 5000)]

    subgraph Services
      T[Transcription Service\nPort 5001]\n:::svc
      M[Meeting Minutes Service\nPort 5002]\n:::svc
      F[File Management Service\nPort 5003]\n:::svc
    end

    ORCH -->|/transcribe| T
    T -->|segments JSON| ORCH

    ORCH -->|/format-transcript| T
    T -->|formatted text| ORCH

    ORCH -->|/generate-minutes| M
    M -->|meeting data JSON| ORCH

    ORCH -->|/create-dated-folder| F
    ORCH -->|/save-transcript| F
    ORCH -->|/save-meeting-minutes-docx| F
    ORCH -->|/save-meeting-minutes-html| F
    ORCH -->|/copy-video (optional)| F
    ORCH -->|/create-workflow-summary| F

    subgraph Output
      O[(output/YYYY-MM-DD_Title/)]
    end

    F --> O
    ORCH -->|GET /workflows/{id}| U

    classDef svc fill:#eef,stroke:#446,stroke-width:1px;
